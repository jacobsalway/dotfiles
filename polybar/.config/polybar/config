; colors

[colors]
bg = #c7000000
bg-alt = #c7222222
color0 = ${xrdb:color0}
color1 = ${xrdb:color1}
color2 = ${xrdb:color2}
color3 = ${xrdb:color3}
color4 = ${xrdb:color4}
color5 = ${xrdb:color5}
color6 = ${xrdb:color6}
color7 = ${xrdb:color7}
color8 = ${xrdb:color8}
color9 = ${xrdb:color9}
color10 = ${xrdb:color10}
color11 = ${xrdb:color11}
color12 = ${xrdb:color12}
color13 = ${xrdb:color13}
color14 = ${xrdb:color14}
color15 = ${xrdb:color15}

; main bar

[bar/main]
monitor = ${env:MONITOR}
width = 100%
height = 30

background = ${colors.bg}
foreground = #ffffff
line-size = 2
line-color = ${colors.color6}

; separator = |

spacing = 0
padding-left = 0
padding-right = 2
module-margin-left = 1
module-margin-right = 1

font-0 = Hack:size=9;3
font-1 = Material Icons:size=12;5

modules-left = i3 mpd
; modules-center = i3
modules-right = volume vpn filesystem time

tray-position = right

; left

[module/i3]
type = internal/i3

strip-wsnumbers = true
; pin-workspaces = true
index-sort = true

label-focused = %index%
label-focused-padding = 2
label-focused-background = ${colors.bg-alt}
label-focused-underline = #ffffff

label-unfocused = %index%
label-unfocused-padding = 2

label-visible = %index%
label-visible-padding = 2
label-visible-background = ${colors.bg-alt}
; label-visible-underline = ${colors.color14}

[module/filesystem]
type = internal/fs
interval = 25

mount-0 = /

label-mounted = /: %percentage_used%%
label-unmounted = %mountpoint% not mounted

[module/home]
type = internal/fs
interval = 5

mount-0 = /home

label-mounted = HOME %percentage_used%
label-unmounted = %mountpoint% not mounted

; center

[module/mpd]
type = internal/mpd

host = 127.0.0.1 
port = 6600

format-online = <toggle>  <label-time>  <label-song>
label-song = %artist:0:45:...% - %title:0:45:...%
label-song-maxlen = 70
label-song-ellipsis = true

label-offline = mpd is offline
; 
format-stopped = 

label-time = %elapsed% / %total%

icon-play = 
icon-pause = 

[module/current-song]
type = custom/script
exec = echo $(mpc current) | sed s/\;/,\ /g | cut -d - -f 1,2
click-left = mpc prev
click-middle = mpc toggle
click-right = mpc next
label = %output%
interval = 1

[module/cmus]
type = custom/script

exec = sh ~/.config/polybar/cmus.sh
exec if = pgrep -x cmus
interval = 1

; right

[module/updates]
type = custom/script
exec = ~/bin/polybar/pac-updates.sh
click-middle = ~/bin/polybar/pac-updates.sh
label =  %output%
interval = 1000 

[module/vpn]
type = custom/script
exec = ~/bin/polybar/check-vpn.sh
click-middle = ~/bin/polybar/check-vpn.sh
label = %output%
interval = 20

[module/volume]
type = internal/volume

format-volume = <label-volume> <bar-volume>

label-volume = 

bar-volume-width = 10

bar-volume-gradient = true
bar-volume-indicator = |
bar-volume-indicator-font = 2
bar-volume-fill = =
bar-volume-fill-font = 2
bar-volume-empty = ─
bar-volume-empty-font = 2

label-muted = Mute

[module/fs]
type = internal/fs
mount-0 = /
interval = 10

format-mounted = <label-mounted>
label-mounted = %used% / %total%

[module/temp]
type = internal/temperature
thermal-zone = 3
warn-temperature = 60
interval = 3

format = <label>
format-warn = "WARN <label-warn>"

label = %temperature%
label-warn = %temperature%

[module/cpu]
type = internal/cpu
interval = 2
format = <label>
label = "CPU %percentage%"

[module/memory]
type = internal/memory
interval = 10
format = <label>
label = "RAM %percentage_used%"

[module/eth]
type = internal/network
interface = enp2s0
interval = 3

label-connected = %downspeed%

[module/time]
type = internal/date
interval = 1

time = %a %d %b %H:%M:%S
time-alt = "%a %d/%m/%y %H:%M:%S"

label = %time%
