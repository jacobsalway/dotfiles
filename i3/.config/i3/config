# === basic i3 gaps ===

hide_edge_borders both
for_window [class="^.*"] border pixel 0
gaps inner 6
gaps outer 3
#smart_gaps on
font pango:monospace 9

# === variable settings ===

set $mod Mod1
set $sup Mod4
set $term urxvt
set $control --no-startup-id python ~/.config/i3/workspace_controller.py

# === external scripts ===

# music player daemon
exec --no-startup-id mpd

# composite manager
exec --no-startup-id compton -b --config ~/.config/compton/compton.conf

# wallpaper
bindsym $mod+Scroll_Lock exec --no-startup-id ~/bin/pick.sh &

# polybar
exec_always --no-startup-id ~/.config/polybar/launch.sh

# for alsa/amixer
#set $inc --no-startup-id amixer sset Master 2%+
#set $biginc --no-startup-id amixer sset Master 5%+
#set $dec --no-startup-id amixer sset Master 2%-
#set $bigdec --no-startup-id amixer sset Master 5%-
#set $mute --no-startup-id amixer sset Master toggle
#set $truemute --no-startup-id amixer sset Master mute

# for pulseaudio/pamixer
set $inc --no-startup-id pamixer --allow-boost -i 2
set $biginc --no-startup-id pamixer --allow-boost -i 6
set $dec --no-startup-id pamixer --allow-boost -d 2
set $bigdec --no-startup-id pamixer --allow-boost -d 6
set $mute --no-startup-id pamixer --allow-boost -t
set $micmute --no-startup-id pamixer --allow-boost -t
set $truemute --no-startup-id pamixer -m

# for mpc
set $music --no-startup-id $term -e ncmpcpp
set $pause --no-startup-id mpc toggle
set $trupause --no-startup-id mpc pause
set $next --no-startup-id mpc next
set $prev --no-startup-id mpc prev
set $lilfor --no-startup-id mpc seek +10
set $bigfor --no-startup-id mpc seek +120
set $lilbak --no-startup-id mpc seek -10
set $bigbak --no-startup-id mpc seek -120
set $beg --no-startup-id mpc seek 0%

# for moc:
#set $music urxvt -e mocp
#set $pause --no-startup-id mocp -G
#set $truepause --no-startup-id mocp -P
#set $next --no-startup-id mocp -f
#set $prev --no-startup-id mocp -r
#set $lilfor --no-startup-id mocp -k 10
#set $bigfor --no-startup-id mocp -k 120
#set $lilbak --no-startup-id mocp -k -10
#set $bigbak --no-startup-id mocp -k -120
#set $beg --no-startup-id mocp -j 0%

# for cmus:
#set $music urxvt -e cmus
#set $pause --no-startup-id cmus-remote -u
#set $next --no-startup-id cmus-remote -n
#set $prev --no-startup-id cmus-remote -r
#set $lilfor --no-startup-id cmus-remote -k +10
#set $bigfor --no-startup-id cmus-remote -k +120
#set $lilbak --no-startup-id cmus-remote -k -10
#set $bigbak --no-startup-id cmus-remote -k -120
#set $beg --no-startup-id cmus-remote -k 00:00:00

# === dropdown windows ==

# background terminal
for_window [instance="dropdown"] floating enable
for_window [instance="dropdown"] resize set 1000px 620px
for_window [instance="dropdown"] move position center
for_window [instance="dropdown"] move scratchpad
exec --no-startup-id $term -name dropdown -e tmux

# arithmetic window
for_window [instance="math"] floating enable
for_window [instance="math"] resize set 600px 350px
for_window [instance="math"] move position center
for_window [instance="math"] move scratchpad
exec --no-startup-id $term -name math -e R -q

# calendar window
for_window [instance="calendar"] floating enable
for_window [instance="calendar"] resize set 800px 500px
for_window [instance="calendar"] move position center

# === basic bindings ===

bindsym $mod+Return exec --no-startup-id $term
bindsym $mod+Shift+Return exec $term -e tmux

bindsym $mod+Shift+space floating toggle
bindsym $mod+space focus mode_toggle

bindsym $mod+grave exec --no-startup-id flash.sh

# === letter bindings ===

bindsym $mod+q kill
bindsym $mod+Shift+q kill

bindsym $mod+Shift+w exec --no-startup-id $BROWSER

bindsym $mod+Shift+e exit

bindsym $mod+r exec $term -e ranger

bindsym $mod+Shift+t gaps inner current set 6; gaps outer current set 3

bindsym $mod+Shift+y resize shrink width 30

bindsym $mod+u [instance="dropdown"] scratchpad show; move position center
bindsym $mod+Shift+u resize shrink height 30

bindsym $mod+i exec $term -e glances
bindsym $mod+Shift+i resize grow height 30

bindsym $mod+Shift+o resize grow width 30

bindsym $mod+p exec $pause

bindsym $mod+a [instance="math"] scratchpad show; move position center
bindsym $mod+Shift+a exec $term -e alsamixer

bindsym $mod+s gaps inner current plus 2

bindsym $mod+Shift+s gaps inner current minus 2

bindsym $mod+d exec rofi -show run
bindsym $mod+Shift+d gaps inner current set 0; gaps outer current set 0

bindsym $mod+f fullscreen toggle
bindsym $mod+Shift+f fullscreen global

bindsym $mod+Shift+g exec --no-startup-id gimp

bindsym $mod+z gaps outer current plus 2
bindsym $mod+Shift+z gaps outer current minus 2

bindsym $mod+c exec $term -name calendar -e calcurse 

bindsym $mod+Shift+v floating enable; resize set 1280 720

#bindsym $mod+n move position center
#bindsym $mod+Shift+n resize grow height 30; resize grow width 30; move position center
bindsym $mod+n exec $control down go
bindsym $mod+Shift+n exec $control down move

#bindsym $mod+m exec $mute
#bindsym $mod+Shift+m resize shrink height 30; resize shrink width 30; move position center
bindsym $mod+m exec $control up go
bindsym $mod+Shift+m exec $control up move


# === workspace bindings ===

# general workspace bindings
bindsym $mod+Tab workspace back_and_forth

bindsym $mod+apostrophe split horizontal
bindsym $mod+slash split vertical

# focus child and parent containers
bindsym $mod+x focus parent
bindsym $mod+Shift+x focus child

# container layout
bindsym $mod+b layout toggle split 
bindsym $mod+Shift+b layout tabbed

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left exec $control prev go
bindsym $mod+Right exec $control next go
bindsym $mod+Up exec $control up go
bindsym $mod+Down exec $control down go

# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left exec $control prev move
bindsym $mod+Shift+Right exec $control next move
bindsym $mod+Shift+Up exec $control up move
bindsym $mod+Shift+Down exec $control down move

# set workspace names
set $WS1 1
set $WS2 2
set $WS3 3

# set workspace names
set $WS1 1
set $WS2 2
set $WS3 3
set $WS4 4
set $WS5 5
set $WS6 6
set $WS7 7
set $WS8 8
set $WS9 9

# set outputs
# TOOD move these to a script eventually
set $OP1 DP-5
set $OP2 DP-2
set $OP3 DVI-D-0
set $OP4 DP-5
set $OP5 DP-2
set $OP6 DVI-D-0
set $OP7 DP-5
set $OP8 DP-2
set $OP9 DVI-D-0

# workspaces to monitors
workspace $WS1 output $OP1
workspace $WS2 output $OP2
workspace $WS3 output $OP3
workspace $WS4 output $OP1
workspace $WS5 output $OP2
workspace $WS6 output $OP3
workspace $WS7 output $OP1
workspace $WS8 output $OP2
workspace $WS9 output $OP3

# switch to workspace
bindsym $mod+1 exec $control go 1
bindsym $mod+2 exec $control go 2
bindsym $mod+3 exec $control go 3
bindsym $mod+4 exec $control go 4
bindsym $mod+5 exec $control go 5
bindsym $mod+6 exec $control go 6
bindsym $mod+7 exec $control go 7
bindsym $mod+8 exec $control go 8
bindsym $mod+9 exec $control go 9
bindsym $mod+0 exec $control go 0

# move focused container to workspace
bindsym $mod+Shift+1 exec $control move 1
bindsym $mod+Shift+2 exec $control move 2
bindsym $mod+Shift+3 exec $control move 3
bindsym $mod+Shift+4 exec $control move 4
bindsym $mod+Shift+5 exec $control move 5
bindsym $mod+Shift+6 exec $control move 6
bindsym $mod+Shift+7 exec $control move 7
bindsym $mod+Shift+8 exec $control move 8
bindsym $mod+Shift+9 exec $control move 9
bindsym $mod+Shift+0 exec $control move 0

# swap workspaces
bindsym $mod+comma move workspace to output left
bindsym $mod+period move workspace to output right

# === numpad ===

#bindsym $mod+Left       focus left
#bindsym $mod+Down       focus down
#bindsym $mod+Up         focus up
#bindsym $mod+Right      focus right
#bindsym $mod+Shift+Left     move left
#bindsym $mod+Shift+Down     move down
#bindsym $mod+Shift+Up       move up
#bindsym $mod+Shift+Right    move right

# === function keys ===

bindsym Print exec --no-startup-id scrot
bindsym Shift+Print exec --no-startup-id scrot -u

bindsym $mod+plus       exec $inc
bindsym $mod+Shift+plus     exec $biginc
bindsym $mod+minus      exec $dec
bindsym $mod+Shift+minus    exec $bigdec
bindsym $mod+greater        exec $inc
bindsym $mod+Shift+greater  exec $biginc
bindsym $mod+less       exec $dec
bindsym $mod+Shift+less     exec $bigdec

# === media keys ===

bindsym XF86AudioMute		exec $mute
bindsym XF86AudioLowerVolume	exec $dec
bindsym XF86AudioRaiseVolume	exec $inc

bindsym $mod+bracketleft    exec $lilbak
bindsym $mod+Shift+bracketleft  exec $prev
bindsym $mod+bracketright   exec $lilfor
bindsym $mod+Shift+bracketright exec $next
bindsym $mod+backslash exec $beg

# === i3 specific ===

# reload the configuration file
bindsym Mod1+Shift+c reload

# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym Mod1+Shift+r restart
